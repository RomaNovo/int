"use strict";

function _toConsumableArray(e) {
    if (Array.isArray(e)) {
        for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
        return n;
    }
    return Array.from(e);
}

function _possibleConstructorReturn(e, t) {
    if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t;
}

function _inherits(e, t) {
    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}

function _classCallCheck(e, t) {
    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}

var _createClass = function() {
    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var c = t[n];
            c.enumerable = c.enumerable || !1, c.configurable = !0, "value" in c && (c.writable = !0), 
            Object.defineProperty(e, c.key, c);
        }
    }
    return function(e, t, n) {
        return t && c(e.prototype, t), n && c(e, n), e;
    };
}(), _ = function(e, t, c) {
    e.split(" ").forEach(function(e) {
        document.addEventListener(e, function(n) {
            return document.querySelectorAll(t).forEach(function(e) {
                var t = n.target;
                if (e == t) return c(n, t);
                for (;t.parentElement; ) {
                    if (e == t) return c(n, t);
                    t = t.parentElement;
                }
            }), !1;
        });
    });
}, Component = function() {
    function t(e) {
        _classCallCheck(this, t), this.state = e;
    }
    return _createClass(t, [ {
        key: "setState",
        value: function(e) {
            Object.assign(this.state, e), this.render();
        }
    }, {
        key: "render",
        value: function() {}
    } ]), t;
}(), Switch = function(e) {
    function c(e, t) {
        _classCallCheck(this, c);
        var n = _possibleConstructorReturn(this, (c.__proto__ || Object.getPrototypeOf(c)).call(this));
        return n.name = t, n.switch = e, n.buttons = e.querySelectorAll(".switch__item"), 
        n.under = e.querySelector(".switch__move"), n.state = {
            active: 0
        }, n.init(), n;
    }
    return _inherits(c, Component), _createClass(c, [ {
        key: "init",
        value: function() {
            var n = this;
            this.buttons.forEach(function(e, t) {
                e.onclick = function() {
                    return n.click.call(n, t);
                };
            });
        }
    }, {
        key: "click",
        value: function(n) {
            this.setState({
                active: n
            }), this.under.style.transform = "translateX(" + 100 * n + "%)", this.buttons.forEach(function(e, t) {
                return n == t ? e.classList.add("active") : e.classList.remove("active");
            }), c.fire(this.name, this.active);
        }
    }, {
        key: "active",
        get: function() {
            return this.state.active;
        }
    } ], [ {
        key: "fire",
        value: function(e, t) {
            var n = new CustomEvent("switchchange", {
                detail: {
                    name: e,
                    active: t
                }
            });
            window.dispatchEvent(n);
        }
    } ]), c;
}(), switches = {};

document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".switch").forEach(function(e, t) {
        var n = e.getAttribute("id");
        switches[n = n || t] = new Switch(e, n);
    });
});

var BackgroundBall = function() {
    function n(e, t) {
        _classCallCheck(this, n), this.parent = e, this.zIndex = t, this.coords = {
            top: Math.floor(90 * Math.random()),
            left: Math.floor(90 * Math.random())
        }, this.init();
    }
    return _createClass(n, [ {
        key: "init",
        value: function() {
            this.ball = this.element, this.parent.appendChild(this.ball), this.ball.style.top = "calc(" + Math.floor(90 * Math.random()) + "% - " + this.ball.offsetHeight / 2 + "px)", 
            this.ball.style.left = "calc(" + Math.floor(90 * Math.random()) + "% - " + this.ball.offsetWidth / 2 + "px)", 
            this.move(), this.animate();
        }
    }, {
        key: "animate",
        value: function() {
            this.interval = setInterval(this.move.bind(this), 1e4);
        }
    }, {
        key: "move",
        value: function() {
            var e = this.generate;
            this.ball.style.transform = "translate(" + e[0] + "%, " + e[1] + "%)";
        }
    }, {
        key: "element",
        get: function() {
            var e = document.createElement("div");
            return e.classList.add("ball", "background__ball", this.color, this.size), e.style.zIndex = this.zIndex, 
            e;
        }
    }, {
        key: "generate",
        get: function() {
            return [ Math.floor(200 * Math.random()) - 100, Math.floor(200 * Math.random()) - 100 ];
        }
    }, {
        key: "color",
        get: function() {
            return "ball_" + [ "green", "blue" ][Math.floor(2 * Math.random())];
        }
    }, {
        key: "size",
        get: function() {
            return "ball_" + [ "xs", "s", "m", "l", "xl" ][Math.floor(5 * Math.random())];
        }
    } ]), n;
}();

document.addEventListener("DOMContentLoaded", function() {
    var t = document.querySelector(".background");
    Array.from(Array(10).keys()).forEach(function(e) {
        return new BackgroundBall(t, e);
    });
}), document.addEventListener("DOMContentLoaded", function() {
    var n = [].concat(_toConsumableArray(document.querySelectorAll(".plans__line"))), c = 0;
    setInterval(function() {
        c = c >= n.length - 1 ? 0 : c + 1, n.forEach(function(e, t) {
            e == n[c] ? e.classList.add("plans__line_active") : e.classList.remove("plans__line_active");
        });
    }, 6e3);
});

var Shaking = function() {
    function t(e) {
        _classCallCheck(this, t), this.item = e, this.timeout = 10, this.item.style.transition = "transform " + this.timeout + "s", 
        this.animate(), this.start();
    }
    return _createClass(t, [ {
        key: "start",
        value: function() {
            setInterval(this.animate.bind(this), 1e3 * this.timeout);
        }
    }, {
        key: "animate",
        value: function() {
            this.item.style.transform = "translate(" + this.random + "px, " + this.random + "px)";
        }
    }, {
        key: "random",
        get: function() {
            return Math.floor(20 * Math.random()) - 10;
        }
    } ]), t;
}();

document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".shaking").forEach(function(e, t) {
        return new Shaking(e);
    });
    var e = document.querySelector(".nav__menu");
    e.onclick = function() {
        [ e, document.querySelector(".nav__links"), document.querySelector(".nav__burger"), document.querySelector(".nav__login_mobile"), document.querySelector(".nav__logo") ].forEach(function(e) {
            return e.classList.toggle("active");
        });
    };
    var t = document.querySelectorAll(".problems__item");
    window.addEventListener("switchchange", function(n) {
        "age" == n.detail.name && t.forEach(function(e, t) {
            n.detail.active ? e.classList.add("active") : e.classList.remove("active");
        });
    });
});

var NavLink = function(e) {
    function n(e) {
        _classCallCheck(this, n);
        var t = _possibleConstructorReturn(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this, {
            clicked: !1
        }));
        return t.link = e, window.matchMedia("(max-width: 1024px)") && (t.link.onclick = function(e) {
            return t.click(e);
        }, document.addEventListener("click", function(e) {
            return t.reset(e);
        })), t;
    }
    return _inherits(n, Component), _createClass(n, [ {
        key: "click",
        value: function(e) {
            this.state.clicked || (e.preventDefault(), this.setState({
                clicked: !0
            }));
        }
    }, {
        key: "reset",
        value: function(e) {
            e.target != this.link && this.setState({
                clicked: !1
            });
        }
    } ]), n;
}();

document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".nav__link_children > a").forEach(function(e) {
        return new NavLink(e);
    });
}), _("click", "[data-modal]", function(e, t) {
    e.preventDefault();
    var n = t.dataset.modal, c = document.querySelector(".modal-" + n), a = document.querySelector(".content"), o = [ document.body, document.documentElement ];
    c.classList.add("active"), a.classList.add("blur"), o.forEach(function(e) {
        return e.style.overflowY = "hidden";
    });
}), _("click", ".modal__close", function(e, t) {
    var n = [ document.body, document.documentElement ], c = document.querySelectorAll(".modal");
    document.querySelector(".content").classList.remove("blur"), n.forEach(function(e) {
        return e.style.overflowY = "auto";
    }), c.forEach(function(e) {
        return e.classList.remove("active");
    });
}), document.addEventListener("DOMContentLoaded", function() {
    function n(n) {
        if (u = n.classList.contains("check") ? v[n.dataset.num] : {
            0: !1,
            1: !1,
            2: !1,
            3: !1
        }, n.classList.contains("skill-blocks_active")) {
            var c = n.querySelectorAll(".elm__item--checked");
            c.forEach(function(e, t) {
                e.addEventListener("click", function() {
                    e.classList.toggle("elm__item--checked_active"), (i = Array.from(c).some(function(e) {
                        return e.classList.contains("elm__item--checked_active");
                    })) ? (n.classList.add("check"), l.style.opacity = "1", l.style.cursor = "pointer") : (n.classList.remove("check"), 
                    l.style.opacity = ".5", l.style.cursor = "not-allowed"), u[t] = !!e.classList.contains("elm__item--checked_active");
                });
            }), window.addEventListener("keypress", function(e) {
                console.log(e.charCode), 49 == e.charCode ? c[0].classList.toggle("elm__item--checked_active") : 50 == e.charCode ? c[1].classList.toggle("elm__item--checked_active") : 51 == e.charCode ? c[2].classList.toggle("elm__item--checked_active") : 52 == e.charCode && c[3].classList.toggle("elm__item--checked_active"), 
                (i = Array.from(c).some(function(e) {
                    return e.classList.contains("elm__item--checked_active");
                })) ? (n.classList.add("check"), l.style.opacity = "1", l.style.cursor = "pointer") : (n.classList.remove("check"), 
                l.style.opacity = ".5", l.style.cursor = "not-allowed"), c.forEach(function(e, t) {
                    u[t] = !!e.classList.contains("elm__item--checked_active");
                });
            });
        } else m = null, l.style.opacity = ".5", l.style.cursor = "not-allowed", e.addEventListener("click", function() {
            e.classList.toggle("checked"), (d = !!e.classList.contains("checked")) ? (l.style.opacity = "1", 
            l.style.cursor = "pointer") : (l.style.opacity = ".5", l.style.cursor = "not-allowed");
        });
    }
    document.querySelector(".slide");
    var o = document.querySelector(".reg__and-reg"), i = void 0, r = document.querySelectorAll(".slide__inner"), s = (document.querySelectorAll(".slide__item"), 
    0), l = document.querySelector(".reg__submit"), u = void 0, d = void 0, f = document.querySelector(".and-reg"), e = f.querySelector(".checkbox__label"), h = document.querySelectorAll(".skill-blocks"), m = document.querySelector(".skill-blocks_active"), v = [];
    r.forEach(function(e, t) {
        e.addEventListener("click", function() {
            (h[t].classList.contains("check") || h[t - 1].classList.contains("check")) && (h.forEach(function(e) {
                e.classList.remove("skill-blocks_active");
            }), h[t].classList.add("skill-blocks_active"));
        });
    });
    var _ = {
        email: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
        phone: /^\+([0-9]|\(|\)|.)+$/,
        text: /.+/
    }, y = function() {
        var e = [].concat(_toConsumableArray(document.querySelectorAll("[data-type]"))), t = !0, n = void 0;
        return e.forEach(function(e) {
            "password" == e.dataset.type && (n = e.value), _[e.dataset.type] && _[e.dataset.type].test(e.value) || e.value == n && "" != e.value ? e.classList.remove("form-reg__input_novalid") : (t = !1, 
            e.classList.add("form-reg__input_novalid"));
        }), t;
    };
    n(m), l.addEventListener("click", function() {
        if (m) r.forEach(function(e, t) {
            e.addEventListener("click", function() {
                (h[t].classList.contains("check") || h[t - 1].classList.contains("check")) && (o.classList.remove("reg__and-reg_active"), 
                h.forEach(function(e) {
                    e.classList.remove("skill-blocks_active");
                }), h[t].classList.add("skill-blocks_active"), n(m = h[t]));
            });
        }), i && (v.push(u), m.classList.remove("skill-blocks_active"), r[s].classList.remove("slide__inner_active"), 
        s++, m.nextElementSibling ? ((m = m.nextElementSibling).classList.add("skill-blocks_active"), 
        r[s].classList.add("slide__inner_active"), l.style.opacity = ".5", l.style.cursor = "not-allowed", 
        n(m)) : (o.classList.add("reg__and-reg_active"), r[s].classList.add("slide__inner_active"), 
        n(f))), i = !1; else {
            var e = document.querySelectorAll("[data-type]"), t = [];
            e.forEach(function(e) {
                t.push(e.value);
            }), y() || (c = "[data-type]", a = function(e, t) {
                var n = t;
                _[t.dataset.type].test(t.value) ? (n.classList.add("form-reg__input_valid"), n.classList.remove("form-reg__input_novalid")) : (n.classList.add("form-reg__input_novalid"), 
                n.classList.remove("form-reg__input_valid"));
            }, "input".split(" ").forEach(function(e) {
                document.addEventListener(e, function(n) {
                    return [].concat(_toConsumableArray(document.querySelectorAll(c))).forEach(function(e) {
                        var t = n.target;
                        if (e == t) return a(n, t);
                        for (;t.parentElement; ) {
                            if (e == t) return a(n, t);
                            t = t.parentElement;
                        }
                    }), !1;
                });
            })), y() && e[1].value === e[2].value && d && (v.push(t), fetch("/trainningorder", {
                method: "post",
                headers: {
                    Accept: "application/json, text/plain, */*",
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(v)
            }), v = []);
        }
        var c, a;
    });
});